\hypertarget{class_scene_manager}{}\section{Scene\+Manager Class Reference}
\label{class_scene_manager}\index{Scene\+Manager@{Scene\+Manager}}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_scene_manager_a017968ad7fea883b37597ccd43ee8d21}\label{class_scene_manager_a017968ad7fea883b37597ccd43ee8d21}} 
{\bfseries Scene\+Manager} (\hyperlink{classmfg_1_1_engine}{mfg\+::\+Engine} $\ast$engine)
\item 
\hyperlink{class_c_tile_scene}{C\+Tile\+Scene} $\ast$ \hyperlink{class_scene_manager_a0da379e114fea306e72feab6acc358ca}{create\+Scene} (const Q\+String \&name, C\+Object $\ast$parent)
\begin{DoxyCompactList}\small\item\em \hyperlink{class_scene_manager_a0da379e114fea306e72feab6acc358ca}{Scene\+Manager\+::create\+Scene} creates the scene by name T\+O\+DO\+: build scene from json description if available. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_scene_manager_af55193e1b17764e710b73e92e1ec1ab3}\label{class_scene_manager_af55193e1b17764e710b73e92e1ec1ab3}} 
\hyperlink{class_c_tile_scene}{C\+Tile\+Scene} $\ast$ {\bfseries get\+Scene} (const Q\+String \&name)
\item 
\mbox{\Hypertarget{class_scene_manager_a249162f1c24a0960e354a67cf9ed039d}\label{class_scene_manager_a249162f1c24a0960e354a67cf9ed039d}} 
\hyperlink{classmfg_1_1_engine}{mfg\+::\+Engine} $\ast$ {\bfseries game\+\_\+engine} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_scene_manager_a487426cfd98ef3b57a7b0192d490b4ae}\label{class_scene_manager_a487426cfd98ef3b57a7b0192d490b4ae}} 
\hyperlink{classmfg_1_1_engine}{mfg\+::\+Engine} $\ast$ {\bfseries m\+\_\+engine}
\item 
\mbox{\Hypertarget{class_scene_manager_a84a59de256b2d0c2574d77c62b0f4ff3}\label{class_scene_manager_a84a59de256b2d0c2574d77c62b0f4ff3}} 
Scene\+Map {\bfseries m\+\_\+scene\+\_\+map}
\end{DoxyCompactItemize}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_scene_manager_a0da379e114fea306e72feab6acc358ca}\label{class_scene_manager_a0da379e114fea306e72feab6acc358ca}} 
\index{Scene\+Manager@{Scene\+Manager}!create\+Scene@{create\+Scene}}
\index{create\+Scene@{create\+Scene}!Scene\+Manager@{Scene\+Manager}}
\subsubsection{\texorpdfstring{create\+Scene()}{createScene()}}
{\footnotesize\ttfamily \hyperlink{class_c_tile_scene}{C\+Tile\+Scene} $\ast$ Scene\+Manager\+::create\+Scene (\begin{DoxyParamCaption}\item[{const Q\+String \&}]{name,  }\item[{C\+Object $\ast$}]{parent }\end{DoxyParamCaption})}



\hyperlink{class_scene_manager_a0da379e114fea306e72feab6acc358ca}{Scene\+Manager\+::create\+Scene} creates the scene by name T\+O\+DO\+: build scene from json description if available. 


\begin{DoxyParams}{Parameters}
{\em name\+:string} & the name of the scene \\
\hline
{\em parent} & the parent for the scene, usually the main window \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
scene the newly created scene 
\end{DoxyReturn}

\begin{DoxyCode}
23                                                                          \{
24     QString settings;
25     QFile file;
26     file.setFileName(\textcolor{stringliteral}{":/config/scenes/"}+name+\textcolor{stringliteral}{".json"});
27     file.open(QIODevice::ReadOnly | QIODevice::Text);
28     settings = file.readAll();
29     file.close();
30     QJsonDocument sd = QJsonDocument::fromJson(settings.toUtf8());
31     \textcolor{keywordflow}{if}(sd.isEmpty()) \{
32         \textcolor{keywordflow}{throw} \textcolor{stringliteral}{"Error with JSON Document: "} + name + \textcolor{stringliteral}{".json"};
33     \}
34     QJsonObject sett2 = sd.object();
35     \textcolor{keyword}{auto} properties = sett2[\textcolor{stringliteral}{"properties"}].toObject();
36     \textcolor{keywordtype}{int} x = properties[\textcolor{stringliteral}{"rect"}].toObject()[\textcolor{stringliteral}{"x"}].toInt();
37     \textcolor{keywordtype}{int} y = properties[\textcolor{stringliteral}{"rect"}].toObject()[\textcolor{stringliteral}{"y"}].toInt();
38     \textcolor{keywordtype}{int} width = properties[\textcolor{stringliteral}{"rect"}].toObject()[\textcolor{stringliteral}{"width"}].toInt();
39     \textcolor{keywordtype}{int} height = properties[\textcolor{stringliteral}{"rect"}].toObject()[\textcolor{stringliteral}{"height"}].toInt();
40     \hyperlink{class_c_tile_scene}{CTileScene} *scene = \textcolor{keyword}{new} \hyperlink{class_c_tile_scene}{CTileScene}(\textcolor{keyword}{this},parent,QRectF(x,y,width,height));
41     scene->setItemIndexMethod(QGraphicsScene::NoIndex);
42     scene->gameEngine()->mediaplayer()->setPlaylist(scene->gameEngine()->mediaplaylist());
43     scene->gameEngine()->mediaplayer()->setVolume(5);
44     scene->setName(name);
45     \textcolor{keywordflow}{if}(name == \textcolor{stringliteral}{"melba01"}) \{
46         scene->setBackgroundBrush(Qt::gray);
47         \textcolor{keyword}{auto} bkg = scene->setBackgroundImageByName(\textcolor{stringliteral}{"background01"});
48         bkg->setPos(-1*scene->sceneRect().height()/2-175, -1*scene->sceneRect().height()/2);
49         bkg->setZValue(-1000);
50     \}
51     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(name == \textcolor{stringliteral}{"space01"}) \{
52         scene->setBackgroundBrush(Qt::black);
53     \}
54     m\_scene\_map.insert(name,scene);
55     \textcolor{keywordflow}{return} scene;
56 \}
\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
scenemanager.\+h\item 
scenemanager.\+cpp\end{DoxyCompactItemize}
